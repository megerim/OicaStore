<!-- views/shop/index.ejs -->
<%- include('../partials/header') %>

<h1 class="text-3xl font-bold mb-6">Our Products</h1>

<!-- Flash Messages -->
<% if (successMsg) { %>
    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
      <%= successMsg %>
    </div>
  <% } %>
  <% if (errorMsg) { %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
      <%= errorMsg %>
    </div>
  <% } %>
  

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <!-- Product Listing in index.ejs -->
<% products.forEach(function (product) { %>
    <div class="bg-white p-6 rounded-lg shadow">
      <a href="/product/<%= product._id %>">
        <img src="/images/<%= product.image %>" alt="<%= product.name %>" class="h-40 w-full object-cover mb-4">
        <h2 class="text-2xl font-semibold mb-2"><%= product.name %></h2>
      </a>
      <p class="text-gray-700 mb-4"><%= product.description.substring(0, 100) %>...</p>
      <p class="text-xl font-bold mb-4">$<%= product.price %></p>
      <a href="/product/<%= product._id %>" class="bg-blue-500 text-white px-4 py-2 rounded">View Details</a>
    </div>
  <% }); %>
</div>

<%- include('../partials/footer') %>
