<!-- views/shop/orders.ejs -->
<%- include('../partials/header') %>

<h1 class="text-3xl font-bold mb-6">Your Orders</h1>

<% if (orders && orders.length > 0) { %>
  <div class="space-y-6">
    <% orders.forEach(function(order) { %>
      <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-2">Order ID: <%= order._id %></h2>
        <p class="text-gray-700 mb-2">Date: <%= order.date.toLocaleDateString() %></p>
        <p class="text-gray-700 mb-2">Total Price: $<%= order.totalPrice.toFixed(2) %></p>
        <h3 class="text-lg font-semibold mb-2">Items:</h3>
        <ul class="list-disc list-inside">
          <% order.products.forEach(function(item) { %>
            <li>
              <%= item.quantity %> x <%= item.product.name %> at $<%= item.price.toFixed(2) %> each
            </li>
          <% }); %>
        </ul>
      </div>
    <% }); %>
  </div>
<% } else { %>
  <p>You have no orders.</p>
<% } %>

<%- include('../partials/footer') %>